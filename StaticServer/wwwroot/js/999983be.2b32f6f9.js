(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["999983be"],{"12b5":function(t,e,i){"use strict";var a=i("6c67"),n=i.n(a);n.a},"6c67":function(t,e,i){},f2e3:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"i-not-container"},[i("div",{staticClass:"i-not-title"},[t._v("NOTIFICATIONS")]),t._l(t.notifications,function(e,a){return i("div",{key:a,staticClass:"i-not-item"},[e.claimAttributeName?i("div",{staticStyle:{width:"30%"}},["Yes"===e.attrValue?i("div",{staticClass:"i-claimed"},[t._v("Claimed ")]):t._e(),"Yes"!==e.attrValue?i("div",{staticClass:"i-btn-claim",on:{click:function(i){return t.setAttribute(e.claimAttributeName,"Yes")}}},[t._v("Claim")]):t._e()]):t._e(),i("div",{staticClass:"i-not-img"},[i("q-img",{attrs:{src:t.getImageUrl(e.pictureId),"spinner-color":"grey-5"}})],1),i("div",{staticClass:"i-not-body"},[i("div",{staticClass:"i-not-body-date"},[t._v(t._s(e.date))]),i("div",{staticClass:"i-not-body-name"},[t._v("  "+t._s(e.description))]),i("div",{staticClass:"i-not-body-price"},[t._v(t._s(e.details)+" ")])])])}),i("q-dialog",{model:{value:t.confirmAddress,callback:function(e){t.confirmAddress=e},expression:"confirmAddress"}},[i("q-card",[i("q-card-section",{staticClass:"row items-center"},[i("span",{staticClass:"q-ml-sm"},[t._v("Your shipping address is missing.")])]),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"grey"}}),i("q-btn",{attrs:{flat:"",label:"Fill out",color:"grey"},on:{click:t.gotoAddress}})],1)],1)],1)],2)},n=[],s=(i("7f7f"),i("7514"),i("4c23")),c=i("2ef0"),o=i.n(c),r=i("c1df"),l=i.n(r),d=i("5a75"),u=i("43c2"),f={name:"Notifications",components:{},data:function(){return{confirmAddress:!1,contact:null,json:"",notifications:[]}},created:function(){var t=this;t.initalize()},methods:{gotoAddress:function(){var t=this;t.$router.push("/dashboard/contact/address")},initalize:function(){var t=this;t.contact=u["a"].getUserData(),null!=t.contact&&s["a"].notificationsGetByContactId(t.contact.account.id).then(function(e){var i=[];o.a.each(e,function(t){i.push(t.code)}),localStorage.setItem("READ_NOTILIST",JSON.stringify(i)),d["a"].$emit("NOT_UPDATED",0),s["a"].contactGetAttributes(t.contact.id).then(function(i){t.json=e,o.a.each(e,function(t){t.date=l()(t.createdDate).format("MMMM Do YYYY"),t.attrValue=""}),o.a.each(i,function(t){var i=o.a.find(e,{claimAttributeName:t.name});i&&(i.attrValue=t.value)}),t.notifications=e})},function(t){console.error(t.message)})},checkMemberAttributes:function(t){var e=this,i=o.a.find(t,{description:"Get a free-limited edition 50 slot case"});i&&(i.button=""),s["a"].contactGetAttributes(e.contact.id).then(function(e){o.a.each(e,function(e){var i=o.a.find(t,{claimAttributeName:e.name});i&&(i.attrValue=e.value)})})},getImageUrl:function(t){return"https://verilifeapi.tenging.is/api/images/"+t},checkAddress:function(){var t=this;if(t.contact=u["a"].getUserData(),t.contact.addresses.length>0){var e=t.contact.addresses[0];if(e.address1.length>0&&e.city.length>0&&e.postCode.length>0&&e.stateProvinceRegion.length>0&&e.country.length>0)return!0}return!1},setAttribute:function(t,e){var i=this;if(!1!==i.checkAddress()){var a={account:i.contact.id,clubCode:"100",attributes:[{name:t,value:e}]};i.$q.loading.show(),s["a"].contactSetAttributes(JSON.stringify(a)).then(function(){i.initalize()},function(t){console.error(t.message)}).then(function(){i.$q.loading.hide()})}else i.confirmAddress=!0}}},m=f,v=(i("12b5"),i("2877")),h=Object(v["a"])(m,a,n,!1,null,null,null);e["default"]=h.exports}}]);